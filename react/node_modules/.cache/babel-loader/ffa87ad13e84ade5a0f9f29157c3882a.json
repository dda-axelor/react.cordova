{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\or\\\\Desktop\\\\maot_hahahim\\\\code\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\or\\\\Desktop\\\\maot_hahahim\\\\code\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\or\\\\Desktop\\\\maot_hahahim\\\\code\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\or\\\\Desktop\\\\maot_hahahim\\\\code\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\or\\\\Desktop\\\\maot_hahahim\\\\code\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\or\\\\Desktop\\\\maot_hahahim\\\\code\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\or\\\\Desktop\\\\maot_hahahim\\\\code\\\\src\\\\player.js\";\nimport React from 'react';\nimport $ from 'jquery';\nvar interval = null;\n\nvar Player =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Player, _React$Component);\n\n  function Player(props) {\n    var _this;\n\n    _classCallCheck(this, Player);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Player).call(this, props));\n    _this.state = {\n      playerOpen: false,\n      playerPlay: false,\n      playerItem: null,\n      playerTime: 0 //ms\n      ,\n      playerLoaded: false,\n      playerSeekingTouchDown: false,\n      playerSeekingPosition: 0,\n      playerMusicControls: false,\n      playerHistory: localStorage.getItem(\"playerHistory\") !== null ? JSON.parse(localStorage.getItem(\"playerHistory\")) : false\n    };\n    localStorage.removeItem(\"playerHistory\");\n    _this.playerTouchStartPosition = 0;\n    _this.playerTouchStartMove = false;\n    _this.media = null;\n    _this.MusicControls = null;\n    _this.myApp = _this.props.myApp;\n\n    _this.myApp.setState({\n      player: _assertThisInitialized(_assertThisInitialized(_this))\n    });\n\n    return _this;\n  }\n\n  _createClass(Player, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {//debugger\n    }\n  }, {\n    key: \"playerPlayNew\",\n    value: function playerPlayNew(playItem) {\n      var fthis = this;\n      $('.player_button').css('-webkit-animation', 'spin 2s linear infinite');\n      $('.player_button').css('animation', 'spin 2s linear infinite;');\n      fthis.setState({\n        playerLoaded: false,\n        playerPlay: false\n      });\n      this.setState({\n        playerOpen: true //, playerPlay: true\n        ,\n        playerTime: 0,\n        playerItem: playItem,\n        playerMusicControls: true\n      });\n      window.MusicControls.create({\n        track: playItem.show_name,\n        // optional, default : ''\n        artist: playItem.isLive ? \"\" : playItem.broadcaster,\n        // optional, default : ''\n        album: playItem.isLive ? \"\" : playItem.parent_program_name,\n        // optional, default: ''\n        cover: playItem.isLive ? \"http://clients-vm.cyberserve.co.il/eol/logo.png\" : playItem.show_image,\n        // optional, default : nothing\n        // cover can be a local path (use fullpath 'file:///storage/emulated/...', or only 'my_image.jpg' if my_image.jpg is in the www folder of your app)\n        //\t\t\t or a remote url ('http://...', 'https://...', 'ftp://...')\n        isPlaying: false,\n        // optional, default : true\n        // dismissable: true,\t\t\t\t\t\t\t// optional, default : false\n        // hide previous/next/close buttons:\n        hasPrev: false,\n        // show previous button, optional, default: true\n        hasNext: false,\n        // show next button, optional, default: true\n        hasClose: true,\n        // show close button, optional, default: false\n        // iOS only, optional\n        duration: playItem.show_length,\n        // optional, default: 0\n        // elapsed: 10, // optional, default: 0\n        //hasSkipForward: true, //optional, default: false. true value overrides hasNext.\n        //hasSkipBackward: true, //optional, default: false. true value overrides hasPrev.\n        //skipForwardInterval: 15, //optional. default: 0.\n        //skipBackwardInterval: 15, //optional. default: 0.\n        hasScrubbing: true,\n        //optional. default to false. Enable scrubbing from control center progress bar \n        // Android only, optional\n        // text displayed in the status bar when the notification (and the ticker) are updated\n        ticker: 'Now playing \"' + playItem.show_name + '\"',\n        //All icons default to their built-in android equivalents\n        //The supplied drawable name, e.g. 'media_play', is the name of a drawable found under android/res/drawable* folders\n        playIcon: \"ic_play_blue.svg\",\n        pauseIcon: \"ic_pause_blue.svg\",\n        prevIcon: '',\n        //'media_prev',\n        nextIcon: '',\n        //'media_next',\n        closeIcon: 'media_close',\n        notificationIcon: 'logo_radio_turkiz.svg'\n      }, function (s) {\n        return console.log(\"MusicControlsNotif onSuccess: \", s);\n      }, function (e) {\n        return console.log(\"MusicControlsNotif onError: \", e);\n      });\n      window.MusicControls.updateDismissable(false); // Register callback\n\n      window.MusicControls.subscribe(function (action) {\n        console.log('MusicControls.subscribe', action);\n\n        switch (JSON.parse(action).message) {\n          case 'music-controls-next':\n            // Do something\n            break;\n\n          case 'music-controls-previous':\n            // Do something\n            break;\n\n          case 'music-controls-pause':\n            {\n              fthis.state.playerLoaded ? window.media.pause() : console.log('המתן לסיום הטעינה');\n              break;\n            }\n\n          case 'music-controls-media-button-play-pause':\n            {\n              fthis.state.playerLoaded ? fthis.state.playerPlay ? window.media.pause() : window.media.play() : console.log('המתן לסיום הטעינה');\n              break;\n            }\n\n          case 'music-controls-toggle-play-pause':\n            {\n              fthis.state.playerLoaded ? window.media.pause() : console.log('המתן לסיום הטעינה');\n              break;\n            }\n\n          case 'music-controls-play':\n            {\n              fthis.state.playerLoaded ? window.media.play() : console.log('המתן לסיום הטעינה');\n              break;\n            }\n\n          case 'music-controls-media-button-previous':\n            fthis.setState({\n              playerTime: 0\n            });\n            break;\n\n          case 'music-controls-media-button-next':\n            fthis.setState({\n              playerTime: fthis.state.playerTime + 10000\n            });\n            break;\n\n          case 'music-controls-destroy':\n            fthis.setState({\n              playerPlay: false,\n              playerLoaded: true,\n              playerTime: 0,\n              playerOpen: false,\n              playerMusicControls: false // , playerHistory: false\n\n            }); //   window.media.release();\n            // if (fthis.state.playerMusicControls) {\n\n            window.MusicControls.destroy(function () {\n              console.log('destroySuccses ');\n\n              if (fthis.state.playerLoaded) {\n                console.log('music-controls-destroy will do=> window.media.stop()');\n                window.media.stop(); //   console.log('music-controls-destroy End to do=> window.media.stop()');\n                // fthis.setState({\n                //   playerOpen: false\n                //   , playerPlay: false\n                //   , playerItem: null\n                //   , playerIsLive: false\n                //   , playerTime: 0\n                //   , playerLoaded: false\n                //   , playerSeekingTouchDown: false\n                //   , playerSeekingPosition: 0\n                //   , playerMusicControls: false\n                // });\n              }\n            }, function (e) {\n              console.log('destry onError: ', e);\n            }); //  }\n\n            break;\n          // // External controls (iOS only)\n          // case 'music-controls-toggle-play-pause':\n          //   // Do something\n          //   break;\n\n          case 'music-controls-seek-to':\n            var seekToInSeconds = JSON.parse(action).position;\n            window.MusicControls.updateElapsed({\n              elapsed: seekToInSeconds,\n              isPlaying: true\n            });\n            fthis.setState({\n              playerTime: seekToInSeconds * 1000\n            });\n            break;\n          // Headset events (Android only)\n          // All media button events are listed below\n\n          case 'music-controls-media-button':\n            // Do something\n            break;\n\n          case 'music-controls-headset-unplugged':\n            // Do something\n            break;\n\n          case 'music-controls-headset-plugged':\n            // Do something\n            break;\n\n          case 'music-controls-stop-listening':\n            // console.log('music-controls-stop-listening start');\n            //  localStorage.removeItem(\"playerHistory\");\n            // fthis.setState({\n            //   playerPlay: false\n            //   , playerLoaded: true\n            //   , playerTime: 0\n            //   // , playerOpen: false\n            // });\n            //   console.log('music-controls-stop-listening End');\n            break;\n\n          default:\n            break;\n        }\n      }); // Start listening for events\n      // The plugin will run the events function each time an event is fired\n\n      window.MusicControls.listen();\n      fthis.MusicControls = window.MusicControls;\n\n      if (window.media !== undefined) {\n        clearInterval(interval);\n        localStorage.removeItem(\"playerHistory\"); // fthis.setState({\n        //   playerLoaded: false\n        //   , playerTime: 0\n        //   // , playerHistory: {\n        //   //   item: playItem\n        //   //   , time: 0\n        //   // }\n        // });\n\n        window.media.stop();\n        window.media.src = playItem.show_clip_id_full_url;\n        window.media.play();\n      } else {\n        window.media = new window.Media(playItem.show_clip_id_full_url, function () {\n          console.log('mediaSuccess'); // if (fthis.state.playerHistory !== false) {\n          //   fthis.setState({\n          //     playItem:fthis.state.playerHistory.item\n          //     ,playerTime: fthis.state.playerHistory.time\n          //   });\n          // }\n        }, function (mediaError) {\n          console.log('mediaError:' + JSON.stringify(mediaError));\n        }, function (mediaStatus) {\n          console.log('mediaStatus' + JSON.stringify(mediaStatus));\n\n          if (mediaStatus === 4) //stop\n            {\n              window.media.release();\n              console.log('in media.stop Start');\n              clearInterval(interval); //  localStorage.removeItem(\"playerHistory\");\n\n              if (fthis.state.playerMusicControls) {\n                fthis.setState({\n                  playerMusicControls: false\n                });\n                fthis.MusicControls.destroy(); //   window.MusicControls.updateIsPlaying(false);\n              }\n\n              if ( //   (fthis.state.playerTime / 1000 < (\n              //   (parseFloat(fthis.state.playerItem.show_length.substring(0, 2)) * 60 * 60)\n              //   + (parseFloat(fthis.state.playerItem.show_length.substring(3, 5) * 60)\n              //     + parseFloat(fthis.state.playerItem.show_length.substring(6, 9)))\n              // )) && \n              !fthis.state.playerItem.isLive) {\n                localStorage.setItem(\"playerHistory\", JSON.stringify({\n                  item: fthis.state.playerItem,\n                  time: fthis.state.playerTime\n                })); // fthis.setState({\n                //   playerPlay: false\n                //   , playerLoaded: true\n                //   , playerOpen: false\n                //   , playerHistory: {\n                //     item: fthis.state.playerItem\n                //     , time: fthis.state.playerTime\n                //   }\n                // });\n              } else {\n                //  console.log(\"(else)==> in if palyerTime > show_length.\");\n                localStorage.removeItem(\"playerHistory\"); // fthis.setState({\n                //   playerPlay: false\n                //   , playerLoaded: true\n                //   , playerTime: 0\n                //   , playerOpen: false\n                // });\n              } //  console.log('in media.stop End');\n              //window.MusicControls.destroy();\n\n            } else if (mediaStatus === 3) {\n            //pause\n            $('.player_button').css('-webkit-animation', '');\n            $('.player_button').css('animation', '');\n            fthis.setState({\n              playerPlay: false // , playerLoaded: true\n\n            });\n            clearInterval(interval);\n            localStorage.removeItem(\"playerHistory\");\n            if (fthis.state.playerMusicControls) window.MusicControls.updateIsPlaying(false);\n          } else if (mediaStatus === 2) {\n            //play\n            $('.player_button').css('-webkit-animation', '');\n            $('.player_button').css('animation', '');\n            fthis.setState({\n              playerPlay: true,\n              playerLoaded: true\n            });\n            fthis.setIntervalTimePlayer();\n            fthis.setState({\n              playerMusicControls: true\n            });\n            window.MusicControls.updateIsPlaying(true);\n          } // else if(mediaStatus===1){\n          //   window.media.play();\n          // }\n\n        });\n      }\n\n      fthis.media = window.media;\n\n      if (fthis.state.playerHistory !== false) {\n        window.media.seekTo(fthis.state.playerHistory.time);\n        $('.player_button').css('-webkit-animation', '');\n        $('.player_button').css('animation', '');\n        fthis.setState({\n          playItem: fthis.state.playerHistory.item,\n          playerTime: fthis.state.playerHistory.time,\n          playerPlay: false,\n          playerLoaded: true,\n          playerMusicControls: true\n        });\n        fthis.setState({\n          playerHistory: false\n        }); //  window.media.pause();\n      } else {\n        window.media.play();\n      }\n    } // playerPlayExists() {\n    //   window.media.play();\n    // }\n    // playerPause() {\n    // window.media.pause();\n    // }\n    // playerStop() {\n    // window.media.stop();\n    // }\n\n  }, {\n    key: \"playerTouchEnd\",\n    value: function playerTouchEnd() {\n      this.setState({\n        playerSeekingTouchDown: false\n      });\n      console.log('onTouchEnd');\n\n      if (!this.playerTouchStartMove) {\n        var newPositionPercent = (this.playerTouchStartPosition - $($('.player_seeking_bar')).offset().left) / parseInt($('.player_seeking_bar').css('width').substring(0, $('.player_seeking_bar').css('width').indexOf(\"px\")));\n        var show_length = (parseFloat(this.state.playerItem.show_length.substring(0, 2)) * 60 * 60 + (parseFloat(this.state.playerItem.show_length.substring(3, 5) * 60) + parseFloat(this.state.playerItem.show_length.substring(6, 9)))) * 1000;\n        var newTime = show_length * newPositionPercent;\n\n        if (newTime <= show_length && newTime >= 0) {\n          this.setState({\n            playerTime: newTime\n          });\n        }\n      }\n\n      this.playerTouchStartMove = false;\n      window.media.seekTo(this.state.playerTime); // const newPositionPercent = Math.round(($('.player_seeking_bul')[0].offsetLeft) / (parseInt($('.player_info_group').css('width').substring(0, $('.player_info_group').css('width').indexOf(\"px\")))) * 100);\n      // this.setState({\n      //   playerTime: (\n      //     (parseFloat(this.state.playerItem.show_length.substring(0, 2)) * 60 * 60)\n      //     + (parseFloat(this.state.playerItem.show_length.substring(3, 5) * 60)\n      //       + parseFloat(this.state.playerItem.show_length.substring(6, 9)))\n      //   ) * (newPositionPercent / 100)\n      // });\n    }\n  }, {\n    key: \"playerTouchMove\",\n    value: function playerTouchMove(event) {\n      this.playerTouchStartMove = true;\n      var newPositionPercent = (event.touches[0].clientX - this.playerTouchStartPosition) / parseInt($('.player_info_group').css('width').substring(0, $('.player_info_group').css('width').indexOf(\"px\"))); // console.log('x:', event.touches[0].clientX, ' y:', event.touches[0].clientY)\n\n      var show_length = (parseFloat(this.state.playerItem.show_length.substring(0, 2)) * 60 * 60 + (parseFloat(this.state.playerItem.show_length.substring(3, 5) * 60) + parseFloat(this.state.playerItem.show_length.substring(6, 9)))) * 1000;\n      var newTime = show_length * newPositionPercent + this.state.playerTime;\n\n      if (newTime <= show_length && newTime >= 0) {\n        this.setState({\n          playerTime: newTime\n        });\n        this.playerTouchStartPosition = event.touches[0].clientX;\n      } else {\n        if (newTime >= show_length) {\n          this.setState({\n            playerTime: show_length - 1000\n          });\n        } else {\n          this.setState({\n            playerTime: 1000\n          });\n        }\n      }\n    }\n  }, {\n    key: \"setIntervalTimePlayer\",\n    value: function setIntervalTimePlayer() {\n      debugger;\n      var fthis = this;\n      interval = setInterval(function () {\n        if (fthis.state.playerTime / 1000 <= parseFloat(fthis.state.playerItem.show_length.substring(0, 2)) * 60 * 60 + (parseFloat(fthis.state.playerItem.show_length.substring(3, 5) * 60) + parseFloat(fthis.state.playerItem.show_length.substring(6, 9))) && !fthis.state.playerItem.isLive) {\n          localStorage.setItem(\"playerHistory\", JSON.stringify({\n            item: fthis.state.playerItem,\n            time: fthis.state.playerTime\n          }));\n          fthis.setState({\n            playerTime: fthis.state.playerTime + 100\n          });\n        } else {\n          clearInterval(interval);\n          localStorage.removeItem(\"playerHistory\"); //window.media.pause();\n          //window.media.stop();\n          //הקטע הסתיים\n\n          window.MusicControls.updateIsPlaying(false);\n        }\n      }, 100);\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      // const fthis = this;\n      if (this.state.playerHistory !== false) {\n        this.playerPlayNew(this.state.playerHistory.item);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var fthis = this;\n      var bottom_Height = this.state.playerOpen ? 84 : 0;\n      return (//* //--footer player--// */\n        fthis.state.playerItem !== null ? React.createElement(\"div\", {\n          key: \"player_section\",\n          className: \"player_section\",\n          style: {\n            height: bottom_Height + \"px\",\n            display: this.state.playerOpen ? \"flex\" : \"none\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 493\n          },\n          __self: this\n        }, !fthis.state.playerItem.isLive ? React.createElement(\"div\", {\n          className: \"player_info_group\",\n          onTouchMove: function onTouchMove(event) {\n            return fthis.playerTouchMove(event);\n          },\n          onTouchEnd: function onTouchEnd(event) {\n            fthis.playerTouchEnd();\n          },\n          onTouchStart: function onTouchStart(event) {\n            fthis.playerTouchStartPosition = event.touches[0].clientX;\n            fthis.setState({\n              playerSeekingTouchDown: true\n            });\n            console.log('onTouchStart');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 495\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 498\n          },\n          __self: this\n        }, fthis.state.playerItem.show_name), React.createElement(\"div\", {\n          className: \"player_seeking_bar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 499\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"player_seeking_line\",\n          style: {\n            width: (fthis.state.playerTime / 1000 / (parseFloat(fthis.state.playerItem.show_length.substring(0, 2)) * 60 * 60 + (parseFloat(fthis.state.playerItem.show_length.substring(3, 5) * 60) + parseFloat(fthis.state.playerItem.show_length.substring(6, 9)))) * 100).toString() + \"%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"player_seeking_bul\" // onTouchMove={(event) => fthis.playerTouchMove(event)}\n          // onTouchStart={(event) => { fthis.playerTouchStartPosition = event.touches[0].clientX; fthis.setState({ playerSeekingTouchDown: true }); console.log('onTouchStart'); }}\n          // onTouchEnd={() => { fthis.playerTouchEnd(); }}\n          ,\n          style: {\n            marginLeft: (fthis.state.playerTime / 1000 / (parseFloat(fthis.state.playerItem.show_length.substring(0, 2)) * 60 * 60 + (parseFloat(fthis.state.playerItem.show_length.substring(3, 5) * 60) + parseFloat(fthis.state.playerItem.show_length.substring(6, 9)))) * 100).toString() + \"%\",\n            width: fthis.state.playerSeekingTouchDown ? '7.0vw' : '2.8vw',\n            height: fthis.state.playerSeekingTouchDown ? '7.0vw' : '2.8vw'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 507\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 521\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            display: \"inline-block\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 522\n          },\n          __self: this\n        }, (Math.floor(fthis.state.playerTime / (60 * 60 * 1000) % 60) <= 9 ? \"0\" + Math.floor(fthis.state.playerTime / (60 * 60 * 1000) % 60).toString() : Math.floor(fthis.state.playerTime / (60 * 60 * 1000) % 60).toString()) + \":\" + (Math.floor(fthis.state.playerTime / (60 * 1000) % 60) <= 9 ? \"0\" + Math.floor(fthis.state.playerTime / (60 * 1000) % 60).toString() : Math.floor(fthis.state.playerTime / (60 * 1000) % 60).toString()) + \":\" + (Math.floor(fthis.state.playerTime / 1000 % 60) <= 9 ? \"0\" + Math.floor(fthis.state.playerTime / 1000 % 60).toString() : Math.floor(fthis.state.playerTime / 1000 % 60).toString())), React.createElement(\"div\", {\n          style: {\n            display: \"inline-block\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 538\n          },\n          __self: this\n        }, \"/\"), React.createElement(\"div\", {\n          style: {\n            display: \"inline-block\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 539\n          },\n          __self: this\n        }, fthis.state.playerItem.show_length))) : React.createElement(\"div\", {\n          className: \"player_info_group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 543\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 543\n          },\n          __self: this\n        }, fthis.state.playerItem.show_name)), React.createElement(\"div\", {\n          onClick: function onClick() {\n            return fthis.state.playerLoaded ? fthis.state.playerPlay ? window.media.pause() : window.media.play() : console.log('המתן לסיום הטעינה');\n          },\n          className: fthis.state.playerPlay ? \"player_button pause w-inline-block\" : \"player_button w-inline-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 545\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: fthis.state.playerPlay ? \"./images/ic_pause_blue.svg\" : \"./images/ic_play_blue.svg\",\n          alt: fthis.state.playerPlay ? \"puse Player\" : \"play Player\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 550\n          },\n          __self: this\n        }))) : null\n      );\n    }\n  }]);\n\n  return Player;\n}(React.Component);\n\nexport { Player as default };","map":{"version":3,"sources":["C:\\Users\\or\\Desktop\\maot_hahahim\\code\\src\\player.js"],"names":["React","$","interval","Player","props","state","playerOpen","playerPlay","playerItem","playerTime","playerLoaded","playerSeekingTouchDown","playerSeekingPosition","playerMusicControls","playerHistory","localStorage","getItem","JSON","parse","removeItem","playerTouchStartPosition","playerTouchStartMove","media","MusicControls","myApp","setState","player","playItem","fthis","css","window","create","track","show_name","artist","isLive","broadcaster","album","parent_program_name","cover","show_image","isPlaying","hasPrev","hasNext","hasClose","duration","show_length","hasScrubbing","ticker","playIcon","pauseIcon","prevIcon","nextIcon","closeIcon","notificationIcon","s","console","log","e","updateDismissable","subscribe","action","message","pause","play","destroy","stop","seekToInSeconds","position","updateElapsed","elapsed","listen","undefined","clearInterval","src","show_clip_id_full_url","Media","mediaError","stringify","mediaStatus","release","setItem","item","time","updateIsPlaying","setIntervalTimePlayer","seekTo","newPositionPercent","offset","left","parseInt","substring","indexOf","parseFloat","newTime","event","touches","clientX","setInterval","playerPlayNew","bottom_Height","height","display","playerTouchMove","playerTouchEnd","width","toString","marginLeft","Math","floor","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport $ from 'jquery';\r\n\r\nlet interval = null;\r\n\r\nexport default class Player extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            playerOpen: false\r\n            , playerPlay: false\r\n            , playerItem: null\r\n            , playerTime: 0//ms\r\n            , playerLoaded: false\r\n            , playerSeekingTouchDown: false\r\n            , playerSeekingPosition: 0\r\n            , playerMusicControls: false\r\n            , playerHistory: localStorage.getItem(\"playerHistory\") !== null ? JSON.parse(localStorage.getItem(\"playerHistory\")) : false\r\n        }\r\n\r\n        localStorage.removeItem(\"playerHistory\");\r\n\r\n        this.playerTouchStartPosition = 0;\r\n        this.playerTouchStartMove = false;\r\n\r\n        this.media = null;\r\n        this.MusicControls = null;\r\n\r\n\r\n\r\n        this.myApp = this.props.myApp;\r\n        this.myApp.setState({ player: this });\r\n    }\r\n\r\n    componentDidMount() {\r\n        //debugger\r\n\r\n    }\r\n\r\n    playerPlayNew(playItem) {\r\n\r\n        let fthis = this;\r\n\r\n        $('.player_button').css('-webkit-animation', 'spin 2s linear infinite');\r\n        $('.player_button').css('animation', 'spin 2s linear infinite;');\r\n        fthis.setState({\r\n            playerLoaded: false\r\n            , playerPlay: false\r\n        });\r\n\r\n\r\n        this.setState({\r\n            playerOpen: true\r\n            //, playerPlay: true\r\n            , playerTime: 0\r\n            , playerItem: playItem\r\n            , playerMusicControls: true\r\n        });\r\n\r\n\r\n        window.MusicControls.create({\r\n            track: playItem.show_name,\t\t// optional, default : ''\r\n            artist: playItem.isLive ? \"\" : playItem.broadcaster,\t\t\t\t\t\t// optional, default : ''\r\n            album: playItem.isLive ? \"\" : playItem.parent_program_name,     // optional, default: ''\r\n            cover: playItem.isLive ? \"http://clients-vm.cyberserve.co.il/eol/logo.png\" : playItem.show_image,\t\t// optional, default : nothing\r\n            // cover can be a local path (use fullpath 'file:///storage/emulated/...', or only 'my_image.jpg' if my_image.jpg is in the www folder of your app)\r\n            //\t\t\t or a remote url ('http://...', 'https://...', 'ftp://...')\r\n            isPlaying: false,\t\t\t\t\t// optional, default : true\r\n            // dismissable: true,\t\t\t\t\t\t\t// optional, default : false\r\n\r\n            // hide previous/next/close buttons:\r\n            hasPrev: false,\t\t// show previous button, optional, default: true\r\n            hasNext: false,\t\t// show next button, optional, default: true\r\n            hasClose: true,\t\t// show close button, optional, default: false\r\n\r\n            // iOS only, optional\r\n\r\n            duration: playItem.show_length, // optional, default: 0\r\n            // elapsed: 10, // optional, default: 0\r\n            //hasSkipForward: true, //optional, default: false. true value overrides hasNext.\r\n            //hasSkipBackward: true, //optional, default: false. true value overrides hasPrev.\r\n            //skipForwardInterval: 15, //optional. default: 0.\r\n            //skipBackwardInterval: 15, //optional. default: 0.\r\n            hasScrubbing: true, //optional. default to false. Enable scrubbing from control center progress bar \r\n\r\n            // Android only, optional\r\n            // text displayed in the status bar when the notification (and the ticker) are updated\r\n            ticker: 'Now playing \"' + playItem.show_name + '\"',\r\n            //All icons default to their built-in android equivalents\r\n            //The supplied drawable name, e.g. 'media_play', is the name of a drawable found under android/res/drawable* folders\r\n            playIcon: \"ic_play_blue.svg\",\r\n            pauseIcon: \"ic_pause_blue.svg\",\r\n            prevIcon: '',//'media_prev',\r\n            nextIcon: '',//'media_next',\r\n            closeIcon: 'media_close',\r\n            notificationIcon: 'logo_radio_turkiz.svg'\r\n        }, (s) => console.log(\"MusicControlsNotif onSuccess: \", s), (e) => console.log(\"MusicControlsNotif onError: \", e));\r\n\r\n\r\n        window.MusicControls.updateDismissable(false);\r\n\r\n        // Register callback\r\n        window.MusicControls.subscribe((action) => {\r\n            console.log('MusicControls.subscribe', action);\r\n\r\n            switch (JSON.parse(action).message) {\r\n                case 'music-controls-next':\r\n                    // Do something\r\n                    break;\r\n                case 'music-controls-previous':\r\n                    // Do something\r\n                    break;\r\n                case 'music-controls-pause':\r\n                    {\r\n                        fthis.state.playerLoaded ?\r\n                            window.media.pause()\r\n                            : console.log('המתן לסיום הטעינה');\r\n                        break;\r\n                    }\r\n\r\n                case 'music-controls-media-button-play-pause':\r\n                    {\r\n                        fthis.state.playerLoaded ?\r\n                            fthis.state.playerPlay ? window.media.pause() : window.media.play()\r\n                            : console.log('המתן לסיום הטעינה')\r\n                        break;\r\n                    }\r\n                case 'music-controls-toggle-play-pause':\r\n                    {\r\n                        fthis.state.playerLoaded ?\r\n                            window.media.pause()\r\n                            : console.log('המתן לסיום הטעינה');\r\n                        break;\r\n                    }\r\n                case 'music-controls-play':\r\n                    {\r\n                        fthis.state.playerLoaded ?\r\n                            window.media.play()\r\n                            : console.log('המתן לסיום הטעינה');\r\n                        break;\r\n                    }\r\n                case 'music-controls-media-button-previous':\r\n                    fthis.setState({\r\n                        playerTime: 0\r\n                    });\r\n                    break;\r\n                case 'music-controls-media-button-next':\r\n                    fthis.setState({\r\n                        playerTime: (fthis.state.playerTime + 10000)\r\n                    });\r\n                    break;\r\n                case 'music-controls-destroy':\r\n                    fthis.setState({\r\n                        playerPlay: false\r\n                        , playerLoaded: true\r\n                        , playerTime: 0\r\n                        , playerOpen: false\r\n                        , playerMusicControls: false\r\n                        // , playerHistory: false\r\n                    });\r\n                    //   window.media.release();\r\n                    // if (fthis.state.playerMusicControls) {\r\n                    window.MusicControls.destroy(() => {\r\n                        console.log('destroySuccses ');\r\n                        if (fthis.state.playerLoaded) {\r\n                            console.log('music-controls-destroy will do=> window.media.stop()');\r\n                            window.media.stop();\r\n                            //   console.log('music-controls-destroy End to do=> window.media.stop()');\r\n                            // fthis.setState({\r\n                            //   playerOpen: false\r\n                            //   , playerPlay: false\r\n                            //   , playerItem: null\r\n                            //   , playerIsLive: false\r\n                            //   , playerTime: 0\r\n                            //   , playerLoaded: false\r\n                            //   , playerSeekingTouchDown: false\r\n                            //   , playerSeekingPosition: 0\r\n                            //   , playerMusicControls: false\r\n                            // });\r\n                        }\r\n                    }, (e) => { console.log('destry onError: ', e); });\r\n                    //  }\r\n                    break;\r\n\r\n                // // External controls (iOS only)\r\n                // case 'music-controls-toggle-play-pause':\r\n                //   // Do something\r\n                //   break;\r\n                case 'music-controls-seek-to':\r\n                    const seekToInSeconds = JSON.parse(action).position;\r\n                    window.MusicControls.updateElapsed({\r\n                        elapsed: seekToInSeconds,\r\n                        isPlaying: true\r\n                    });\r\n                    fthis.setState({\r\n                        playerTime: (seekToInSeconds * 1000)\r\n                    });\r\n                    break;\r\n\r\n                // Headset events (Android only)\r\n                // All media button events are listed below\r\n                case 'music-controls-media-button':\r\n                    // Do something\r\n                    break;\r\n                case 'music-controls-headset-unplugged':\r\n                    // Do something\r\n                    break;\r\n                case 'music-controls-headset-plugged':\r\n                    // Do something\r\n                    break;\r\n                case 'music-controls-stop-listening':\r\n                    // console.log('music-controls-stop-listening start');\r\n                    //  localStorage.removeItem(\"playerHistory\");\r\n\r\n                    // fthis.setState({\r\n                    //   playerPlay: false\r\n                    //   , playerLoaded: true\r\n                    //   , playerTime: 0\r\n                    //   // , playerOpen: false\r\n                    // });\r\n                    //   console.log('music-controls-stop-listening End');\r\n                    break\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n\r\n        // Start listening for events\r\n        // The plugin will run the events function each time an event is fired\r\n        window.MusicControls.listen();\r\n\r\n        fthis.MusicControls = window.MusicControls;\r\n\r\n\r\n\r\n        if (window.media !== undefined) {\r\n            clearInterval(interval);\r\n            localStorage.removeItem(\"playerHistory\");\r\n            // fthis.setState({\r\n            //   playerLoaded: false\r\n            //   , playerTime: 0\r\n            //   // , playerHistory: {\r\n            //   //   item: playItem\r\n            //   //   , time: 0\r\n            //   // }\r\n            // });\r\n            window.media.stop();\r\n            window.media.src = playItem.show_clip_id_full_url;\r\n            window.media.play();\r\n\r\n        } else {\r\n            window.media = new window.Media(playItem.show_clip_id_full_url\r\n                , function () {\r\n                    console.log('mediaSuccess');\r\n                    // if (fthis.state.playerHistory !== false) {\r\n                    //   fthis.setState({\r\n                    //     playItem:fthis.state.playerHistory.item\r\n                    //     ,playerTime: fthis.state.playerHistory.time\r\n                    //   });\r\n                    // }\r\n                }\r\n                , function (mediaError) { console.log('mediaError:' + JSON.stringify(mediaError)) }\r\n                , function (mediaStatus) {\r\n                    console.log('mediaStatus' + JSON.stringify(mediaStatus));\r\n                    if (mediaStatus === 4)//stop\r\n                    {\r\n                        window.media.release();\r\n                        console.log('in media.stop Start');\r\n                        clearInterval(interval);\r\n                        //  localStorage.removeItem(\"playerHistory\");\r\n                        if (fthis.state.playerMusicControls) {\r\n                            fthis.setState({ playerMusicControls: false });\r\n                            fthis.MusicControls.destroy();\r\n                            //   window.MusicControls.updateIsPlaying(false);\r\n                        }\r\n\r\n                        if (\r\n                            //   (fthis.state.playerTime / 1000 < (\r\n                            //   (parseFloat(fthis.state.playerItem.show_length.substring(0, 2)) * 60 * 60)\r\n                            //   + (parseFloat(fthis.state.playerItem.show_length.substring(3, 5) * 60)\r\n                            //     + parseFloat(fthis.state.playerItem.show_length.substring(6, 9)))\r\n                            // )) && \r\n                            !fthis.state.playerItem.isLive) {\r\n                            localStorage.setItem(\"playerHistory\",\r\n                                JSON.stringify({\r\n                                    item: fthis.state.playerItem\r\n                                    , time: fthis.state.playerTime\r\n                                })\r\n                            );\r\n                            // fthis.setState({\r\n                            //   playerPlay: false\r\n                            //   , playerLoaded: true\r\n                            //   , playerOpen: false\r\n                            //   , playerHistory: {\r\n                            //     item: fthis.state.playerItem\r\n                            //     , time: fthis.state.playerTime\r\n                            //   }\r\n                            // });\r\n                        } else {\r\n                            //  console.log(\"(else)==> in if palyerTime > show_length.\");\r\n                            localStorage.removeItem(\"playerHistory\");\r\n\r\n                            // fthis.setState({\r\n                            //   playerPlay: false\r\n                            //   , playerLoaded: true\r\n                            //   , playerTime: 0\r\n                            //   , playerOpen: false\r\n                            // });\r\n                        }\r\n                        //  console.log('in media.stop End');\r\n\r\n                        //window.MusicControls.destroy();\r\n                    }\r\n                    else if (mediaStatus === 3) {//pause\r\n                        $('.player_button').css('-webkit-animation', '');\r\n                        $('.player_button').css('animation', '');\r\n                        fthis.setState({\r\n                            playerPlay: false\r\n                            // , playerLoaded: true\r\n                        });\r\n                        clearInterval(interval);\r\n                        localStorage.removeItem(\"playerHistory\");\r\n                        if (fthis.state.playerMusicControls)\r\n                            window.MusicControls.updateIsPlaying(false);\r\n                    }\r\n                    else if (mediaStatus === 2) {//play\r\n                        $('.player_button').css('-webkit-animation', '');\r\n                        $('.player_button').css('animation', '');\r\n                        fthis.setState({\r\n                            playerPlay: true\r\n                            , playerLoaded: true\r\n                        });\r\n                        fthis.setIntervalTimePlayer();\r\n                        fthis.setState({ playerMusicControls: true });\r\n                        window.MusicControls.updateIsPlaying(true);\r\n                    }\r\n                    // else if(mediaStatus===1){\r\n                    //   window.media.play();\r\n                    // }\r\n\r\n                }\r\n            );\r\n\r\n        }\r\n        fthis.media = window.media;\r\n\r\n        if (fthis.state.playerHistory !== false) {\r\n\r\n            window.media.seekTo(fthis.state.playerHistory.time);\r\n\r\n            $('.player_button').css('-webkit-animation', '');\r\n            $('.player_button').css('animation', '');\r\n\r\n            fthis.setState({\r\n                playItem: fthis.state.playerHistory.item\r\n                , playerTime: fthis.state.playerHistory.time\r\n                , playerPlay: false\r\n                , playerLoaded: true\r\n                , playerMusicControls: true\r\n            });\r\n\r\n            fthis.setState({\r\n                playerHistory: false\r\n            });\r\n            //  window.media.pause();\r\n        } else {\r\n            window.media.play();\r\n        }\r\n\r\n    }\r\n    // playerPlayExists() {\r\n    //   window.media.play();\r\n    // }\r\n    // playerPause() {\r\n    // window.media.pause();\r\n    // }\r\n    // playerStop() {\r\n    // window.media.stop();\r\n    // }\r\n\r\n    playerTouchEnd() {\r\n        this.setState({ playerSeekingTouchDown: false });\r\n        console.log('onTouchEnd');\r\n\r\n        if (!this.playerTouchStartMove) {\r\n            const newPositionPercent = (this.playerTouchStartPosition - $($('.player_seeking_bar')).offset().left) / (\r\n                (parseInt($('.player_seeking_bar').css('width').substring(0, $('.player_seeking_bar').css('width').indexOf(\"px\")))));\r\n\r\n            const show_length = ((parseFloat(this.state.playerItem.show_length.substring(0, 2)) * 60 * 60)\r\n                + (parseFloat(this.state.playerItem.show_length.substring(3, 5) * 60)\r\n                    + parseFloat(this.state.playerItem.show_length.substring(6, 9)))\r\n            ) * 1000;\r\n\r\n            const newTime = show_length * newPositionPercent;\r\n            if (newTime <= show_length && newTime >= 0) {\r\n                this.setState({\r\n                    playerTime: newTime\r\n                });\r\n            }\r\n        }\r\n\r\n        this.playerTouchStartMove = false;\r\n\r\n\r\n        window.media.seekTo(this.state.playerTime);\r\n\r\n        // const newPositionPercent = Math.round(($('.player_seeking_bul')[0].offsetLeft) / (parseInt($('.player_info_group').css('width').substring(0, $('.player_info_group').css('width').indexOf(\"px\")))) * 100);\r\n\r\n        // this.setState({\r\n        //   playerTime: (\r\n        //     (parseFloat(this.state.playerItem.show_length.substring(0, 2)) * 60 * 60)\r\n        //     + (parseFloat(this.state.playerItem.show_length.substring(3, 5) * 60)\r\n        //       + parseFloat(this.state.playerItem.show_length.substring(6, 9)))\r\n        //   ) * (newPositionPercent / 100)\r\n        // });\r\n    }\r\n    playerTouchMove(event) {\r\n        this.playerTouchStartMove = true;\r\n        const newPositionPercent = (event.touches[0].clientX - this.playerTouchStartPosition) / (\r\n            (parseInt($('.player_info_group').css('width').substring(0, $('.player_info_group').css('width').indexOf(\"px\")))));\r\n        // console.log('x:', event.touches[0].clientX, ' y:', event.touches[0].clientY)\r\n        const show_length = ((parseFloat(this.state.playerItem.show_length.substring(0, 2)) * 60 * 60)\r\n            + (parseFloat(this.state.playerItem.show_length.substring(3, 5) * 60)\r\n                + parseFloat(this.state.playerItem.show_length.substring(6, 9)))\r\n        ) * 1000;\r\n        const newTime = show_length * newPositionPercent + this.state.playerTime;\r\n        if (newTime <= show_length && newTime >= 0) {\r\n            this.setState({\r\n                playerTime: newTime\r\n            });\r\n            this.playerTouchStartPosition = event.touches[0].clientX;\r\n        }\r\n        else {\r\n            if (newTime >= show_length) {\r\n                this.setState({\r\n                    playerTime: show_length - 1000\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    playerTime: 1000\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    setIntervalTimePlayer() {\r\n        debugger\r\n        let fthis = this;\r\n        interval = setInterval(function () {\r\n            if (fthis.state.playerTime / 1000 <= (\r\n                (parseFloat(fthis.state.playerItem.show_length.substring(0, 2)) * 60 * 60)\r\n                + (parseFloat(fthis.state.playerItem.show_length.substring(3, 5) * 60)\r\n                    + parseFloat(fthis.state.playerItem.show_length.substring(6, 9)))\r\n            ) && !fthis.state.playerItem.isLive) {\r\n                localStorage.setItem(\"playerHistory\",\r\n                    JSON.stringify({\r\n                        item: fthis.state.playerItem\r\n                        , time: fthis.state.playerTime\r\n                    })\r\n                );\r\n                fthis.setState({\r\n                    playerTime: fthis.state.playerTime + 100\r\n                });\r\n            } else {\r\n                clearInterval(interval);\r\n                localStorage.removeItem(\"playerHistory\");\r\n                //window.media.pause();\r\n                //window.media.stop();\r\n                //הקטע הסתיים\r\n                window.MusicControls.updateIsPlaying(false);\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n        // const fthis = this;\r\n\r\n        if (this.state.playerHistory !== false) {\r\n            this.playerPlayNew(this.state.playerHistory.item);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const fthis = this;\r\n        let bottom_Height = this.state.playerOpen ? 84 : 0;\r\n\r\n        return (\r\n            //* //--footer player--// */\r\n            fthis.state.playerItem !== null ?\r\n                <div key=\"player_section\" className=\"player_section\" style={{ height: bottom_Height + \"px\", display: this.state.playerOpen ? \"flex\" : \"none\" }}>\r\n                    {!fthis.state.playerItem.isLive ?\r\n                        <div className=\"player_info_group\" onTouchMove={(event) => fthis.playerTouchMove(event)}\r\n                            onTouchEnd={(event) => { fthis.playerTouchEnd(); }}\r\n                            onTouchStart={(event) => { fthis.playerTouchStartPosition = event.touches[0].clientX; fthis.setState({ playerSeekingTouchDown: true }); console.log('onTouchStart'); }}>\r\n                            <div>{fthis.state.playerItem.show_name}</div>\r\n                            <div className=\"player_seeking_bar\">\r\n                                <div className=\"player_seeking_line\" style={{\r\n                                    width: ((fthis.state.playerTime / 1000) / (\r\n                                        (parseFloat(fthis.state.playerItem.show_length.substring(0, 2)) * 60 * 60)\r\n                                        + (parseFloat(fthis.state.playerItem.show_length.substring(3, 5) * 60)\r\n                                            + parseFloat(fthis.state.playerItem.show_length.substring(6, 9)))\r\n                                    ) * 100).toString() + \"%\"\r\n                                }} />\r\n                                <div className=\"player_seeking_bul\"\r\n                                    // onTouchMove={(event) => fthis.playerTouchMove(event)}\r\n                                    // onTouchStart={(event) => { fthis.playerTouchStartPosition = event.touches[0].clientX; fthis.setState({ playerSeekingTouchDown: true }); console.log('onTouchStart'); }}\r\n                                    // onTouchEnd={() => { fthis.playerTouchEnd(); }}\r\n                                    style={{\r\n                                        marginLeft: ((fthis.state.playerTime / 1000) / (\r\n                                            (parseFloat(fthis.state.playerItem.show_length.substring(0, 2)) * 60 * 60)\r\n                                            + (parseFloat(fthis.state.playerItem.show_length.substring(3, 5) * 60)\r\n                                                + parseFloat(fthis.state.playerItem.show_length.substring(6, 9)))\r\n                                        ) * 100).toString() + \"%\"\r\n                                        , width: fthis.state.playerSeekingTouchDown ? '7.0vw' : '2.8vw'\r\n                                        , height: fthis.state.playerSeekingTouchDown ? '7.0vw' : '2.8vw'\r\n                                    }} />\r\n                            </div>\r\n                            <div>\r\n                                <div style={{ display: \"inline-block\" }}>{\r\n                                    (((Math.floor((fthis.state.playerTime / (60 * 60 * 1000)) % 60)) <= 9\r\n                                        ? (\"0\" + (Math.floor((fthis.state.playerTime / (60 * 60 * 1000)) % 60).toString()))\r\n                                        : (Math.floor((fthis.state.playerTime / (60 * 60 * 1000)) % 60)).toString()\r\n                                    ) + \":\"\r\n                                    )\r\n                                    + ((Math.floor((fthis.state.playerTime / (60 * 1000)) % 60)) <= 9\r\n                                        ? (\"0\" + (Math.floor((fthis.state.playerTime / (60 * 1000)) % 60)).toString())\r\n                                        : (Math.floor((fthis.state.playerTime / (60 * 1000)) % 60)).toString()\r\n                                    )\r\n                                    + \":\"\r\n                                    + ((Math.floor((fthis.state.playerTime / 1000) % 60)) <= 9\r\n                                        ? (\"0\" + (Math.floor((fthis.state.playerTime / 1000) % 60)).toString())\r\n                                        : (Math.floor((fthis.state.playerTime / 1000) % 60)).toString()\r\n                                    )\r\n                                }</div>\r\n                                <div style={{ display: \"inline-block\" }}>/</div>\r\n                                <div style={{ display: \"inline-block\" }}>{fthis.state.playerItem.show_length}</div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        : <div className=\"player_info_group\"><div>{fthis.state.playerItem.show_name}</div></div>\r\n                    }\r\n                    <div onClick={() => fthis.state.playerLoaded ?\r\n                        fthis.state.playerPlay ? window.media.pause() : window.media.play()\r\n                        : console.log('המתן לסיום הטעינה')\r\n                    }\r\n                        className={fthis.state.playerPlay ? \"player_button pause w-inline-block\" : \"player_button w-inline-block\"}>\r\n                        <img src={fthis.state.playerPlay ? \"./images/ic_pause_blue.svg\" : \"./images/ic_play_blue.svg\"}\r\n                            alt={fthis.state.playerPlay ? \"puse Player\" : \"play Player\"} />\r\n                    </div>\r\n                    {/* <div className=\"player_video_icon\"><img src=\"images/video.svg\" alt=\"\" /></div> */}\r\n                </div>\r\n                : null\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}